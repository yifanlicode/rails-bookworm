<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #3661B9;" data-bs-theme="light">
  
  
  <div class="container-fluid">

    <div class="navbar-brand d-flex align-items-center">
      <%= link_to root_path do %>
        <img src="<%= asset_path('bookstore.png') %>" alt="logo" class="img-logo me-2">
        <span class="navbar-brand custom-link">BookStore</span>
      <% end %>
    </div>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarCollapse">
    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
      <%# books %>
        <li class="nav-item">
          <%= link_to "Books", products_path, class: "nav-link #{'active' if controller_name == 'products' && action_name == 'index'}" %>
        </li>
      <%# about %>
        <li class="nav-item">
          <%= link_to "About", about_path, class: "nav-link #{'active' if controller_name == 'about' && action_name == 'index'}" %>
        </li>
        

          <%# search partial %>
           <%= render partial: "shared/search_bar"%>

        <% if user_signed_in? %>
        <%# Cart %>
        <li class="nav-item">
          <%= link_to "Cart", cart_path, class: "nav-link #{'active' if controller_name == 'carts' && action_name == 'show'}" %>
        </li>
        <%# Order %>
        <li class="nav-item">
          <%= link_to "Order", new_order_path, class: "nav-link #{'active' if controller_name == 'orders' && action_name == 'index'}" %>
        </li>
        <%# Orders %>
        <li class="nav-item">
          <%= link_to "History", orders_path, class: "nav-link #{'active' if controller_name == 'orders' && action_name == 'index'}" %>
        </li>

        <%# add address %>
        <li class="nav-item">
          <%= link_to "Address", new_address_path, class: "nav-link #{'active' if controller_name == 'addresses' && action_name == 'new'}" %>
        </li>

        <%# Profile %>
        <%# <li class="nav-item">
          <%= link_to "Account", edit_user_registration_path, class: "nav-link #{'active' if controller_name == 'registrations' && action_name == 'edit'}" %>
        <%# </li> %> 

         <%# Log Out %>
        <li class="nav-item">
          <%= link_to "Log Out", destroy_user_session_path, 
          data:{ turbo_method: :delete }, 
          class: "nav-link #{'active' if controller_name == 'admin' && action_name == 'logout' }" %>
        </li>

        <% else %>
        <%# Sign up %>
          <li class="nav-item">

          <%= link_to "Sign Up", new_user_registration_path, class: "nav-link #{'active' if controller_name == 'admin' && action_name == 'signup'}" %>
        </li>
        
       <%# log In %>
      <li class="nav-item">
          <%= link_to "Login",  new_user_session_path, class: "nav-link #{'active' if controller_name == 'admin' && action_name == 'login'}" %>
        </li>

        <% end %>
      </ul>

      

    </div>
  </div>
</nav>
<br>
